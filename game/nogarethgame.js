parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"rL0N":[function(require,module,exports) {
var define;
var e;function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}e(["require","exports","./data","./bob","./level","./player"],function(e,a,i,S,n,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.NoGarethGame=void 0;var B=function(){function e(a,r){t(this,e),this.boxX=50,this.boxY=50,this.currentFrame=0,this.backColor=0,this.gameState=0,this.win_game=!1,this.lights_on=!0,this.DEBUGMODE=!1,this.ctx=a,this.inputController=r,this.garethBob=i.ALL_BOBS.Gareth,i.setCanvas(a),i.setGame(this),i.setInputController(this.inputController),this.gameState=i.CONSTANTS.GameState.GAME_INTRO}return r(e,[{key:"newGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gameState=i.CONSTANTS.GameState.GAME_RUNNING;var t=new s.Player(i.CONSTANTS.StartX,i.CONSTANTS.StartY,this.garethBob,null);e&&(t.hasRedKey=i.PLAYER.hasRedKey,t.hasBlueKey=i.PLAYER.hasBlueKey,t.hasGreenKey=i.PLAYER.hasGreenKey),i.setPlayer(t),this.win_game=!1,this.load_level("Levels/mikeslevel.txt")}},{key:"clearScreen",value:function(){this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}},{key:"Game_Main",value:function(){this.inputController.update(),"q"==i.INPUTCONTROLLER.KEY_PRESS&&location.reload(),"Escape"==i.INPUTCONTROLLER.KEY_PRESS&&(this.stop_all_music(),this.gameState=i.CONSTANTS.GameState.GAME_INTRO),this.gameState==i.CONSTANTS.GameState.GAME_INTRO&&this.game_intro(),this.gameState==i.CONSTANTS.GameState.GAME_PAUSED&&this.game_paused(),this.gameState==i.CONSTANTS.GameState.GAME_HELP&&this.game_help(),this.gameState==i.CONSTANTS.GameState.GAME_ABOUT&&this.game_about(),this.gameState==i.CONSTANTS.GameState.GAME_RUNNING&&this.game_running(),this.gameState==i.CONSTANTS.GameState.GAME_WIN&&this.game_win(),this.gameState==i.CONSTANTS.GameState.GAME_OVER&&this.game_over(),this.gameState==i.CONSTANTS.GameState.GAME_TEXT_BOX&&this.game_text_box()}},{key:"game_running",value:function(){if(this.clearScreen(),this.win_game&&i.PLAYER.state==i.CONSTANTS.ThingState.FALLING&&!i.PLAYER.alive)return this.gameState=i.CONSTANTS.GameState.GAME_WIN,void S.BOBAPI.DMusic_Play(6);if(!i.PLAYER.alive||i.PLAYER.health<=0)return this.gameState=i.CONSTANTS.GameState.GAME_OVER,void S.BOBAPI.DSound_Play(8);"p"==i.INPUTCONTROLLER.KEY_PRESS&&(this.gameState=i.CONSTANTS.GameState.GAME_PAUSED);for(var e=0;e<this.currentLevel.width;e++)for(var t=0;t<this.currentLevel.height;t++)this.currentLevel.tileObjects[e][t].update();i.PLAYER.update(),i.PLAYER.move(),this.currentLevel.updateEnemies(),this.currentLevel.moveEnemies(),this.currentLevel.updateObjects(),this.currentLevel.moveObjects(),this.currentLevel.updateObjectList(),this.currentLevel.updateEnemyList(),this.draw_tiles(),this.currentLevel.drawObjects(),this.currentLevel.drawEnemies(),i.PLAYER.draw(),0==this.lights_on&&S.BOBAPI.Draw_BOB16(i.ALL_BOBS.DarknessOverlay),this.draw_lifebar(),this.show_keys()}},{key:"draw_tiles",value:function(){var e,t;e=Math.floor((i.PLAYER.x-i.PLAYER.x%40)/40)-8,t=Math.floor((i.PLAYER.y-i.PLAYER.y%40)/40)-6,e<0&&(e=0),e>this.currentLevel.width-17&&(e=this.currentLevel.width-17),t<0&&(t=0),t>this.currentLevel.height-13&&(t=this.currentLevel.height-13);for(var a=e;a<e+17;a++)for(var r=t;r<t+13;r++)this.currentLevel.tileObjects[a][r].draw()}},{key:"draw_all_tiles",value:function(){for(var e=0;e<this.currentLevel.width;e++)for(var t=0;t<this.currentLevel.height;t++)this.currentLevel.tileObjects[e][t].draw()}},{key:"show_text_box",value:function(e){S.BOBAPI.DSound_Play(3),this.gameState=i.CONSTANTS.GameState.GAME_TEXT_BOX,this.textBoxText=e}},{key:"show_keys",value:function(){i.ALL_BOBS.KeyOverlay.x=500,i.ALL_BOBS.KeyOverlay.y=18,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.KeyOverlay),i.PLAYER.hasRedKey&&(i.ALL_BOBS.ObjectSet.curr_frame=0,i.ALL_BOBS.ObjectSet.x=533,i.ALL_BOBS.ObjectSet.y=11,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.ObjectSet)),i.PLAYER.hasGreenKey&&(i.ALL_BOBS.ObjectSet.curr_frame=2,i.ALL_BOBS.ObjectSet.x=548,i.ALL_BOBS.ObjectSet.y=11,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.ObjectSet)),i.PLAYER.hasBlueKey&&(i.ALL_BOBS.ObjectSet.curr_frame=1,i.ALL_BOBS.ObjectSet.x=563,i.ALL_BOBS.ObjectSet.y=11,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.ObjectSet))}},{key:"set_lights",value:function(e){this.lights_on=e}},{key:"stop_all_music",value:function(){S.BOBAPI.DMusic_Stop()}},{key:"game_intro",value:function(){i.INPUTCONTROLLER.Key_Start?this.newGame():("h"==i.INPUTCONTROLLER.KEY_PRESS&&(this.gameState=i.CONSTANTS.GameState.GAME_HELP),"a"==i.INPUTCONTROLLER.KEY_PRESS&&(this.gameState=i.CONSTANTS.GameState.GAME_ABOUT),i.ALL_BOBS.GameScreens.curr_frame=0,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.GameScreens))}},{key:"game_about",value:function(){i.ALL_BOBS.GameScreens.curr_frame=3,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.GameScreens)}},{key:"game_help",value:function(){i.ALL_BOBS.GameScreens.curr_frame=4,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.GameScreens)}},{key:"game_paused",value:function(){i.INPUTCONTROLLER.Key_Start?this.gameState=i.CONSTANTS.GameState.GAME_RUNNING:(i.ALL_BOBS.GameScreens.curr_frame=1,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.GameScreens))}},{key:"game_win_game",value:function(){this.win_game=!0,console.log("You win!!")}},{key:"game_over",value:function(){i.ALL_BOBS.GameScreens.curr_frame=2,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.GameScreens),i.INPUTCONTROLLER.Key_Start&&this.newGame(!0)}},{key:"game_win",value:function(){i.ALL_BOBS.GameScreens.curr_frame=5,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.GameScreens),i.INPUTCONTROLLER.Key_Start&&this.newGame()}},{key:"game_text_box",value:function(){if(i.INPUTCONTROLLER.Key_Start)this.gameState=i.CONSTANTS.GameState.GAME_RUNNING;else{this.draw_tiles(),this.currentLevel.drawObjects(),this.currentLevel.drawEnemies(),i.PLAYER.draw(),0==this.lights_on&&S.BOBAPI.Draw_BOB16(i.ALL_BOBS.DarknessOverlay);var e,t,a,r=S.BOBAPI.RGB(255,255,255),n=S.BOBAPI.RGB(255,255,255);t=20,180;var s=(e=100)+(a=i.CONSTANTS.ScreenWidth-220)-2;S.BOBAPI.Draw_Line16(e,t,e+a,t,r),S.BOBAPI.Draw_Line16(e,t,e,200,r),S.BOBAPI.Draw_Line16(e+a,t,e+a,200,r),S.BOBAPI.Draw_Line16(e,200,e+a,200,r);for(var B=101;B<e+a;B++)for(var O=21;O<200;O++)(B+O)%2==0&&S.BOBAPI.Draw_Pixel16(B,O,"blue");S.BOBAPI.DrawText(this.textBoxText,118,38,s-16-102,18,n),S.BOBAPI.DrawText("Press Enter to continue",262,194,s-16-102,18,"black")}}},{key:"draw_lifebar",value:function(){var e,t,a="black";e=100,t=20,S.BOBAPI.Draw_Line16(e,t,201,t,a),S.BOBAPI.Draw_Line16(e,t,e,41,a),S.BOBAPI.Draw_Line16(201,t,201,41,a),S.BOBAPI.Draw_Line16(e,41,201,41,a),i.ALL_BOBS.LifeOverlay.x=30,i.ALL_BOBS.LifeOverlay.y=17,S.BOBAPI.Draw_BOB16(i.ALL_BOBS.LifeOverlay);var r=this.currentLevel.player.health;r>100&&(r=100);for(var n=0;n<r;n++)a=S.BOBAPI.RGB(0,185+n/15,0),S.BOBAPI.Draw_Line16(101+n,21,101+n,40,a)}},{key:"load_level",value:function(e){this.lights_on=!0,"m"!=e[7]&&"M"!=e[7]||(this.currentLevel=new n.Level(i.DATA.levels.MikeLevel,i.ALL_BOBS.MikeLevelTileSet,i.ALL_BOBS.ObjectSet,i.CONSTANTS.NumObjects,i.PLAYER)),"n"!=e[7]&&"N"!=e[7]||(this.currentLevel=new n.Level(i.DATA.levels.NeilLevel,i.ALL_BOBS.NeilLevelTileSet,i.ALL_BOBS.ObjectSet,i.CONSTANTS.NumObjects,i.PLAYER)),"j"!=e[7]&&"J"!=e[7]||(this.currentLevel=new n.Level(i.DATA.levels.Juanlevel,i.ALL_BOBS.JuanLevelTileSet,i.ALL_BOBS.ObjectSet,i.CONSTANTS.NumObjects,i.PLAYER)),this.gameState=i.CONSTANTS.GameState.GAME_RUNNING}}]),e}();a.NoGarethGame=B});
},{}]},{},["rL0N"], null)
//# sourceMappingURL=game/nogarethgame.js.map