parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"CtI3":[function(require,module,exports) {
var define;
var e;function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}e(["require","exports","./tile","./gameobject","./enemy","./data"],function(e,r,a,s,n,u){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(r,i,s,n,o){t(this,e),this.songID=-1,this.player=o,o.currentLevel=this,this.objectset=s,this.tileMap=[],this.tileObjects=[],this.objectArray=[],this.objectSize=0,this.enemyArray=[],this.enemySize=0;var h=r.split(/\r?\n/),c=h[0].split(/\s/);this.width=Number(c[0]),this.height=Number(c[1]);for(var l=0;l<this.height;l++){for(var S=[],m=[],b=0;b<this.width;b++)S.push(null),m.push(null);this.tileMap.push(S),this.tileObjects.push(m)}for(l=0;l<this.height;l++){var y=h[l+1].split(/\s/);for(S=[],m=[],b=0;b<this.width;b++){var p=y[b],N=Number(p.substring(0,3));this.tileMap[b][l]=N,this.tileObjects[b][l]=new a.Tile(b*u.CONSTANTS.TileWidth,l*u.CONSTANTS.TileHeight,N,i,this);var T=p.charCodeAt(3)-"a".charCodeAt(0);T>=0&&T<n&&this.createObject(b*u.CONSTANTS.TileWidth,l*u.CONSTANTS.TileHeight,T);var v=p.charCodeAt(4)-"a".charCodeAt(0);(v>=0&&v<2||3==v)&&this.createEnemy(b*u.CONSTANTS.TileWidth,l*u.CONSTANTS.TileHeight,v)}}var f,d=null,A=-1,w=-1,_=!1,j=new a.Tile(-1,-1,this.tileMap[0][0],i,this);for(l=this.height+1;l<h.length;l++){var O=h[l].trim();if(""!=O&&!O.startsWith("//")){var g=O.split(/\s+/);switch(g[0]){case"Immediate":_=!0,A=0,w=0,f=j;continue;case"Script":A=Number(g[1]),w=Number(g[2]),f=this.tileObjects[A][w];continue;case"SetState":var k=new a.set_state_instr;k.id=u.CONSTANTS.ScriptInstrType.SetState,k.x=Number(g[1]),k.y=Number(g[2]),k.newState=Number(g[3]),d=k;break;case"SetStateTemp":var C=new a.set_state_temp_instr;C.id=u.CONSTANTS.ScriptInstrType.SetStateTemp,C.x=Number(g[1]),C.y=Number(g[2]),C.newState1=Number(g[3]),C.newState2=Number(g[4]),d=C;break;case"ToggleState":var I=new a.toggle_state_instr;I.id=u.CONSTANTS.ScriptInstrType.ToggleState,I.x=Number(g[1]),I.y=Number(g[2]),I.newState1=Number(g[3]),I.newState2=Number(g[4]),I.time=Number(g[5]),I.delay=Number(g[6]),d=I;break;case"Teleport":var L=new a.teleport_instr;L.id=u.CONSTANTS.ScriptInstrType.Teleport,L.tile_x=Number(g[1]),L.tile_y=Number(g[2]),d=L;break;case"PlaySound":var z=new a.play_sound_instr;z.id=u.CONSTANTS.ScriptInstrType.PlaySound,z.sound_id=Number(g[1]),d=z;break;case"Jump":var E=new a.jump_instr;E.id=u.CONSTANTS.ScriptInstrType.Jump,E.howFar=Number(g[1]),d=E;break;case"JumpIfEqual":var x=new a.jump_if_equal_instr;x.id=u.CONSTANTS.ScriptInstrType.JumpIfEqual,x.x=Number(g[1]),x.y=Number(g[2]),x.state=Number(g[3]),x.howFar=Number(g[4]),d=x;break;case"JumpIfNotEqual":var M=new a.jump_if_not_equal_instr;M.id=u.CONSTANTS.ScriptInstrType.JumpIfNotEqual,M.x=Number(g[1]),M.y=Number(g[2]),M.state=Number(g[3]),M.howFar=Number(g[4]),d=M;break;case"Lights":var B=new a.lights_instr;B.id=u.CONSTANTS.ScriptInstrType.Lights,B.on_or_off=Boolean(Number(g[1])),d=B;break;case"PlayMusic":var q=new a.play_music_instr;q.id=u.CONSTANTS.ScriptInstrType.PlayMusic,q.music_id=Number(g[1]),d=q;break;case"LoadLevel":var J=new a.load_level_instr;J.id=u.CONSTANTS.ScriptInstrType.LoadLevel,J.filename=g[1],d=J;break;case"TextBox":var P=new a.text_box_instr;P.id=u.CONSTANTS.ScriptInstrType.TextBox,P.text=O.substr(g[0].length+1),d=P;break;case"WinGame":var W=new a.win_game_instr;W.id=u.CONSTANTS.ScriptInstrType.WinGame,d=W;break;case"RestoreHealth":var H=new a.restore_health_instr;H.id=u.CONSTANTS.ScriptInstrType.RestoreHealth,d=H;break;case"End":f.scriptLoaded=!0,f.numInstructions=f.script.length,_&&(f.processScript(f),_=!1),A=-1,w=-1,f=null,d=null;continue}f.script.push(d)}}}return i(e,[{key:"getTile",value:function(e,t){var r=Math.floor(e/40),i=Math.floor(t/40);return this.tileMap[r][i]}},{key:"getTileObject",value:function(e,t){var r=Math.floor(e/40),i=Math.floor(t/40);return this.tileObjects[r][i]}},{key:"createObject",value:function(e,t,r){var i=new s.GameObject(e,t,r,this.objectset,this);this.objectArray.push(i),this.objectSize=this.objectArray.length}},{key:"createEnemy",value:function(e,t,r){var i;0==r&&(i=new n.Enemy(e,t,r,u.ALL_BOBS.GreyZombie,this)),1==r&&(i=new n.Enemy(e,t,r,u.ALL_BOBS.RedZombie,this)),3==r&&(i=new n.Enemy(e,t,r,u.ALL_BOBS.Sluggo,this)),this.enemyArray.push(i),this.enemySize=this.enemyArray.length}},{key:"updateObjectList",value:function(){for(var e=0;e<this.objectSize;e++)if(!this.objectArray[e].alive){for(var t=e;t<this.objectSize-1;t++)this.objectArray[t]=this.objectArray[t+1];this.objectSize--}}},{key:"updateEnemyList",value:function(){for(var e=0;e<this.enemySize;e++)if(!this.enemyArray[e].alive){for(var t=e;t<this.enemySize-1;t++)this.enemyArray[t]=this.enemyArray[t+1];this.enemySize--}}},{key:"updateObjects",value:function(){for(var e=0;e<this.objectSize;e++)this.objectArray[e].update()}},{key:"updateEnemies",value:function(){for(var e=0;e<this.enemySize;e++)this.enemyArray[e].update()}},{key:"moveObjects",value:function(){for(var e=0;e<this.objectSize;e++)this.objectArray[e].move()}},{key:"moveEnemies",value:function(){for(var e=0;e<this.enemySize;e++)this.enemyArray[e].move()}},{key:"drawObjects",value:function(){for(var e=0;e<this.objectSize;e++)this.objectArray[e].draw()}},{key:"drawEnemies",value:function(){for(var e=0;e<this.enemySize;e++)this.enemyArray[e].draw()}}]),e}();r.Level=o});
},{}]},{},["CtI3"], null)
//# sourceMappingURL=game/level.js.map